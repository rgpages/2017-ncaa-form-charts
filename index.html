{% extends "_story.html" %}

{% macro event(eslug) -%}
	{% for s in g.current_site.data[eslug] %}
		{% if s.id == "Analysis" %}
			<p class="caption">Analysis: {% if s.name %}{{ s.name }}{% else %}{{ s.school }}{% endif %}</p>
		{% elif s.id|safe == "1" %}
			<table>
				<thead>
					<tr>
						<th></th>
						{% if s.name %}<th>Name</th>{% endif %}
						<th>School</th>
						{% if s.best %}<th>'17 Best</th>{% endif %}
						{% if s.points %}<th>Points</th>{% endif %}
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>{{ s.id }}</td>
						{% if s.name %}<td>{{ s.name }}</td>{% endif %}
						<td>{{ s.school }}</td>
						{% if s.best %}<td>{{ s.best }}</td>{% endif %}
						{% if s.points %}<td>{{ s.points }}</td>{% endif %}
					</tr>
		{% elif s.id|safe == "8" %}
					<tr>
						<td>{{ s.id }}</td>
						{% if s.name %}<td>{{ s.name }}</td>{% endif %}
						<td>{{ s.school }}</td>
						{% if s.best %}<td>{{ s.best }}</td>{% endif %}
						{% if s.points %}<td>{{ s.points }}</td>{% endif %}
					</tr>
				</tbody>
			</table>
		{% else %}
					<tr>
						<td>{{ s.id }}</td>
						{% if s.name %}<td>{{ s.name }}</td>{% endif %}
						<td>{{ s.school }}</td>
						{% if s.best %}<td>{{ s.best }}</td>{% endif %}
						{% if s.points %}<td>{{ s.points }}</td>{% endif %}
					</tr>
		{% endif %}
	{%- endfor %}
{%- endmacro %}

{% block extra_css %}
	<style>
	
		button.filter {
			color: #fff;
			background-color: #ae1b1f;
			font-family: "BentonSansCond Regular",Arial,sans-serif;
			font-size: 12px;
			text-transform: uppercase;
			border: 0;
		}
		.button-group.bdf {
			flex-direction: row;
			flex-wrap: wrap;
		}
		.bdf button.bdf-item {
			padding: 10px;
			margin: 10px;
			flex: 1 1 140px;
		}
		@media all and (max-width: 640px){
			.bdf button.bdf-item {
				padding: 20px 10px;
				flex: 1 1 190px;
			}
		}
		@media all and (max-width: 440px){
			.bdf button.bdf-item {
				flex: 1 1 120px;
			}
		}
		button.filter:hover {
			background-color: #6b1013;
		}
	
		button.chart-reverse {
			width: 100%;
			color: #fff;
			background-color: #444;
			font-family: "BentonSansCond Regular",Arial,sans-serif;
			font-size: 12px;
			text-transform: uppercase;
			margin: 10px 0;
			padding: 5px 0;
			border: 0;
		}
		@media all and (max-width: 640px){
			button.chart-reverse {
				padding: 20px 0;
			}
		}
	
		div.chart div.streamer h1 { 
			text-align: center;
		}
		table { 
			font-family: Arial, sans-serif;
			font-size: 12px;
			margin-bottom: 10px; 
		}
		thead { text-align: left; }
		tr { border-bottom: 1px solid black; }
		div#charts p.caption { font-size: 12px; }
	
	</style>
{% endblock extra_css %}

{% block content %}
	<div id="story">
		
		<p class="BodyText-BodyText">Below are the Register-Guard men's and women's form charts for the <a href="http://www.ncaa.com/championships/trackfield-outdoor/d1" target="_blank">2017 Outdoor NCAA Track and Field Championships</a>. The events are listed in chronological order starting with the projected team scores.</p>
		<p class="BodyText-BodyText">To expand or collapse an event, simply click or tap on that event's gray label bar. Alternatively, you may open all or close all of the events using the red buttons at the top. You may also open or close all men's or women's events, or toggle the form charts for specific days.</p>
		<p class="BodyText-BodyText">Be sure to bookmark this page or add it to your phone's home screen to save this page for later.</p>
	
		<div class="button-group bdf bdf-Arow">
			<button id="show" class="filter bdf-item">Open all events</button>
			<button id="hide" class="filter bdf-item">Close all events</button>
			<button id="men" class="filter bdf-item">All men's events</button>
			<button id="women" class="filter bdf-item">All women's events</button>
		</div><!-- /.button-group -->
	
		<div class="button-group bdf bdf-Arow">
			<button id="wednesday" class="filter bdf-item">Wednesday events</button>
			<button id="thursday" class="filter bdf-item">Thursday events</button>
			<button id="friday" class="filter bdf-item">Friday events</button>
			<button id="saturday" class="filter bdf-item">Saturday events</button>
		</div><!-- /.button-group -->
	
		<div id="charts">
		
			{% for e in events %}
			
				<button onclick="$('#{{ e.slug }}').toggle();" id="{{ e.slug }}_button" class="chart-reverse">{{ e.event }}{% if (e.slug != "m_team") and (e.slug != "w_team") %} ({{ e.time }} {{ e.day }}){% endif %}</button>
			
				<div id="{{ e.slug }}" class="{{ e.tags }}" style="display: {{ e.display }};">
					{{ event(e.slug) }}
				</div><!-- /#{{ e.slug }} -->
			
			{% endfor %}
		
		</div><!-- /#charts -->
		
		<hr>
		
		<p class="BodyText-BodyText_Tagline">Page designed by <a href="mailto:rob.denton@registerguard.com">Rob Denton</a>. Follow him on Twitter <a href="http://twitter.com/robertrdenton">@robertrdenton</a>.</p>
		
	</div><!-- /#story -->
{% endblock %}

{% block extra_js %}
	<script>if(!window.jQuery){document.write('<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"><\/script>');}</script>
	<script>
		$().ready(function(){
			$('#show, #hide').click(function(){
				if( this.id == 'show'){
					$('.men').show();
					$('.women').show();
				}else{
					$('.women').hide();
					$('.men').hide();
				}
			});
			$('#men, #women').click(function(){
				if( this.id == 'men'){
					$('.men').show();
					$('.women').hide();
				}else{
					$('.women').show();
					$('.men').hide();
				}
			});
			$('#wednesday, #thursday, #friday, #saturday').click(function(){
				if( this.id == 'wednesday' ){
					$('.thursday').hide();
					$('.friday').hide();
					$('.saturday').hide();
					$('.wednesday').show();
				}else if ( this.id == 'thursday' ){
					$('.wednesday').hide();
					$('.friday').hide();
					$('.saturday').hide();
					$('.thursday').show();
				}else if ( this.id == 'friday' ){
					$('.wednesday').hide();
					$('.thursday').hide();
					$('.saturday').hide();
					$('.friday').show();
				}else{
					$('.wednesday').hide();
					$('.thursday').hide();
					$('.friday').hide();
					$('.saturday').show();
				}
			});
		});
	</script>
{% endblock %}
